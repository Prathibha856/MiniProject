{"ast":null,"code":"'use strict';\n\nimport _classPrivateFieldLooseBase from \"@babel/runtime/helpers/classPrivateFieldLooseBase\";\nimport _classPrivateFieldLooseKey from \"@babel/runtime/helpers/classPrivateFieldLooseKey\";\nimport AnimatedNode from './AnimatedNode';\nimport AnimatedWithChildren from './AnimatedWithChildren';\nimport * as React from 'react';\nconst MAX_DEPTH = 5;\nfunction isPlainObject(value) {\n  return value !== null && typeof value === 'object' && Object.getPrototypeOf(value).isPrototypeOf(Object) && !React.isValidElement(value);\n}\nfunction flatAnimatedNodes(value, nodes = [], depth = 0) {\n  if (depth >= MAX_DEPTH) {\n    return nodes;\n  }\n  if (value instanceof AnimatedNode) {\n    nodes.push(value);\n  } else if (Array.isArray(value)) {\n    for (let ii = 0, length = value.length; ii < length; ii++) {\n      const element = value[ii];\n      flatAnimatedNodes(element, nodes, depth + 1);\n    }\n  } else if (isPlainObject(value)) {\n    const keys = Object.keys(value);\n    for (let ii = 0, length = keys.length; ii < length; ii++) {\n      const key = keys[ii];\n      flatAnimatedNodes(value[key], nodes, depth + 1);\n    }\n  }\n  return nodes;\n}\nfunction mapAnimatedNodes(value, fn, depth = 0) {\n  if (depth >= MAX_DEPTH) {\n    return value;\n  }\n  if (value instanceof AnimatedNode) {\n    return fn(value);\n  } else if (Array.isArray(value)) {\n    return value.map(element => mapAnimatedNodes(element, fn, depth + 1));\n  } else if (isPlainObject(value)) {\n    const result = {};\n    const keys = Object.keys(value);\n    for (let ii = 0, length = keys.length; ii < length; ii++) {\n      const key = keys[ii];\n      result[key] = mapAnimatedNodes(value[key], fn, depth + 1);\n    }\n    return result;\n  } else {\n    return value;\n  }\n}\nvar _nodes = _classPrivateFieldLooseKey(\"nodes\");\nexport default class AnimatedObject extends AnimatedWithChildren {\n  static from(value) {\n    const nodes = flatAnimatedNodes(value);\n    if (nodes.length === 0) {\n      return null;\n    }\n    return new AnimatedObject(nodes, value);\n  }\n  constructor(nodes, value) {\n    super();\n    Object.defineProperty(this, _nodes, {\n      writable: true,\n      value: void 0\n    });\n    this._value = void 0;\n    _classPrivateFieldLooseBase(this, _nodes)[_nodes] = nodes;\n    this._value = value;\n  }\n  __getValue() {\n    return mapAnimatedNodes(this._value, node => {\n      return node.__getValue();\n    });\n  }\n  __getAnimatedValue() {\n    return mapAnimatedNodes(this._value, node => {\n      return node.__getAnimatedValue();\n    });\n  }\n  __attach() {\n    const nodes = _classPrivateFieldLooseBase(this, _nodes)[_nodes];\n    for (let ii = 0, length = nodes.length; ii < length; ii++) {\n      const node = nodes[ii];\n      node.__addChild(this);\n    }\n  }\n  __detach() {\n    const nodes = _classPrivateFieldLooseBase(this, _nodes)[_nodes];\n    for (let ii = 0, length = nodes.length; ii < length; ii++) {\n      const node = nodes[ii];\n      node.__removeChild(this);\n    }\n    super.__detach();\n  }\n  __makeNative(platformConfig) {\n    const nodes = _classPrivateFieldLooseBase(this, _nodes)[_nodes];\n    for (let ii = 0, length = nodes.length; ii < length; ii++) {\n      const node = nodes[ii];\n      node.__makeNative(platformConfig);\n    }\n    super.__makeNative(platformConfig);\n  }\n  __getNativeConfig() {\n    return {\n      type: 'object',\n      value: mapAnimatedNodes(this._value, node => {\n        return {\n          nodeTag: node.__getNativeTag()\n        };\n      })\n    };\n  }\n}","map":{"version":3,"names":["_classPrivateFieldLooseBase","_classPrivateFieldLooseKey","AnimatedNode","AnimatedWithChildren","React","MAX_DEPTH","isPlainObject","value","Object","getPrototypeOf","isPrototypeOf","isValidElement","flatAnimatedNodes","nodes","depth","push","Array","isArray","ii","length","element","keys","key","mapAnimatedNodes","fn","map","result","_nodes","AnimatedObject","from","constructor","defineProperty","writable","_value","__getValue","node","__getAnimatedValue","__attach","__addChild","__detach","__removeChild","__makeNative","platformConfig","__getNativeConfig","type","nodeTag","__getNativeTag"],"sources":["F:/MiniProject/node_modules/react-native/Libraries/Animated/nodes/AnimatedObject.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n * @oncall react_native\n */\n\n'use strict';\n\nimport type {PlatformConfig} from '../AnimatedPlatformConfig';\n\nimport AnimatedNode from './AnimatedNode';\nimport AnimatedWithChildren from './AnimatedWithChildren';\nimport * as React from 'react';\n\nconst MAX_DEPTH = 5;\n\n/* $FlowIssue[incompatible-type-guard] - Flow does not know that the prototype\n   and ReactElement checks preserve the type refinement of `value`. */\nfunction isPlainObject(value: mixed): value is $ReadOnly<{[string]: mixed}> {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    Object.getPrototypeOf(value).isPrototypeOf(Object) &&\n    !React.isValidElement(value)\n  );\n}\n\nfunction flatAnimatedNodes(\n  value: mixed,\n  nodes: Array<AnimatedNode> = [],\n  depth: number = 0,\n): Array<AnimatedNode> {\n  if (depth >= MAX_DEPTH) {\n    return nodes;\n  }\n  if (value instanceof AnimatedNode) {\n    nodes.push(value);\n  } else if (Array.isArray(value)) {\n    for (let ii = 0, length = value.length; ii < length; ii++) {\n      const element = value[ii];\n      flatAnimatedNodes(element, nodes, depth + 1);\n    }\n  } else if (isPlainObject(value)) {\n    const keys = Object.keys(value);\n    for (let ii = 0, length = keys.length; ii < length; ii++) {\n      const key = keys[ii];\n      flatAnimatedNodes(value[key], nodes, depth + 1);\n    }\n  }\n  return nodes;\n}\n\n// Returns a copy of value with a transformation fn applied to any AnimatedNodes\nfunction mapAnimatedNodes(value: any, fn: any => any, depth: number = 0): any {\n  if (depth >= MAX_DEPTH) {\n    return value;\n  }\n\n  if (value instanceof AnimatedNode) {\n    return fn(value);\n  } else if (Array.isArray(value)) {\n    return value.map(element => mapAnimatedNodes(element, fn, depth + 1));\n  } else if (isPlainObject(value)) {\n    const result: {[string]: any} = {};\n    const keys = Object.keys(value);\n    for (let ii = 0, length = keys.length; ii < length; ii++) {\n      const key = keys[ii];\n      result[key] = mapAnimatedNodes(value[key], fn, depth + 1);\n    }\n    return result;\n  } else {\n    return value;\n  }\n}\n\nexport default class AnimatedObject extends AnimatedWithChildren {\n  #nodes: $ReadOnlyArray<AnimatedNode>;\n  _value: mixed;\n\n  /**\n   * Creates an `AnimatedObject` if `value` contains `AnimatedNode` instances.\n   * Otherwise, returns `null`.\n   */\n  static from(value: mixed): ?AnimatedObject {\n    const nodes = flatAnimatedNodes(value);\n    if (nodes.length === 0) {\n      return null;\n    }\n    return new AnimatedObject(nodes, value);\n  }\n\n  /**\n   * Should only be called by `AnimatedObject.from`.\n   */\n  constructor(nodes: $ReadOnlyArray<AnimatedNode>, value: mixed) {\n    super();\n    this.#nodes = nodes;\n    this._value = value;\n  }\n\n  __getValue(): any {\n    return mapAnimatedNodes(this._value, node => {\n      return node.__getValue();\n    });\n  }\n\n  __getAnimatedValue(): any {\n    return mapAnimatedNodes(this._value, node => {\n      return node.__getAnimatedValue();\n    });\n  }\n\n  __attach(): void {\n    const nodes = this.#nodes;\n    for (let ii = 0, length = nodes.length; ii < length; ii++) {\n      const node = nodes[ii];\n      node.__addChild(this);\n    }\n  }\n\n  __detach(): void {\n    const nodes = this.#nodes;\n    for (let ii = 0, length = nodes.length; ii < length; ii++) {\n      const node = nodes[ii];\n      node.__removeChild(this);\n    }\n    super.__detach();\n  }\n\n  __makeNative(platformConfig: ?PlatformConfig): void {\n    const nodes = this.#nodes;\n    for (let ii = 0, length = nodes.length; ii < length; ii++) {\n      const node = nodes[ii];\n      node.__makeNative(platformConfig);\n    }\n    super.__makeNative(platformConfig);\n  }\n\n  __getNativeConfig(): any {\n    return {\n      type: 'object',\n      value: mapAnimatedNodes(this._value, node => {\n        return {nodeTag: node.__getNativeTag()};\n      }),\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}