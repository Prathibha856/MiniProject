{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nconst _excluded = [\"headers\"];\nimport Blob from '../Blob/Blob';\nimport BlobManager from '../Blob/BlobManager';\nimport NativeEventEmitter from '../EventEmitter/NativeEventEmitter';\nimport binaryToBase64 from '../Utilities/binaryToBase64';\nimport Platform from '../Utilities/Platform';\nimport NativeWebSocketModule from './NativeWebSocketModule';\nimport WebSocketEvent from './WebSocketEvent';\nimport base64 from 'base64-js';\nimport EventTarget from 'event-target-shim';\nimport invariant from 'invariant';\nconst CONNECTING = 0;\nconst OPEN = 1;\nconst CLOSING = 2;\nconst CLOSED = 3;\nconst CLOSE_NORMAL = 1000;\nconst CLOSE_ABNORMAL = 1006;\nconst WEBSOCKET_EVENTS = ['close', 'error', 'message', 'open'];\nlet nextWebSocketId = 0;\nclass WebSocket extends EventTarget(...WEBSOCKET_EVENTS) {\n  constructor(url, protocols, options) {\n    super();\n    this.CONNECTING = CONNECTING;\n    this.OPEN = OPEN;\n    this.CLOSING = CLOSING;\n    this.CLOSED = CLOSED;\n    this._socketId = void 0;\n    this._eventEmitter = void 0;\n    this._subscriptions = void 0;\n    this._binaryType = void 0;\n    this.onclose = void 0;\n    this.onerror = void 0;\n    this.onmessage = void 0;\n    this.onopen = void 0;\n    this.bufferedAmount = void 0;\n    this.extension = void 0;\n    this.protocol = void 0;\n    this.readyState = CONNECTING;\n    this.url = void 0;\n    this.url = url;\n    if (typeof protocols === 'string') {\n      protocols = [protocols];\n    }\n    const _ref = options || {},\n      {\n        headers = {}\n      } = _ref,\n      unrecognized = _objectWithoutPropertiesLoose(_ref, _excluded);\n    if (unrecognized && typeof unrecognized.origin === 'string') {\n      console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.');\n      headers.origin = unrecognized.origin;\n      delete unrecognized.origin;\n    }\n    if (Object.keys(unrecognized).length > 0) {\n      console.warn('Unrecognized WebSocket connection option(s) `' + Object.keys(unrecognized).join('`, `') + '`. ' + 'Did you mean to put these under `headers`?');\n    }\n    if (!Array.isArray(protocols)) {\n      protocols = null;\n    }\n    this._eventEmitter = new NativeEventEmitter(Platform.OS !== 'ios' ? null : NativeWebSocketModule);\n    this._socketId = nextWebSocketId++;\n    this._registerEvents();\n    NativeWebSocketModule.connect(url, protocols, {\n      headers\n    }, this._socketId);\n  }\n  get binaryType() {\n    return this._binaryType;\n  }\n  set binaryType(binaryType) {\n    if (binaryType !== 'blob' && binaryType !== 'arraybuffer') {\n      throw new Error(\"binaryType must be either 'blob' or 'arraybuffer'\");\n    }\n    if (this._binaryType === 'blob' || binaryType === 'blob') {\n      invariant(BlobManager.isAvailable, 'Native module BlobModule is required for blob support');\n      if (binaryType === 'blob') {\n        BlobManager.addWebSocketHandler(this._socketId);\n      } else {\n        BlobManager.removeWebSocketHandler(this._socketId);\n      }\n    }\n    this._binaryType = binaryType;\n  }\n  close(code, reason) {\n    if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {\n      return;\n    }\n    this.readyState = this.CLOSING;\n    this._close(code, reason);\n  }\n  send(data) {\n    if (this.readyState === this.CONNECTING) {\n      throw new Error('INVALID_STATE_ERR');\n    }\n    if (data instanceof Blob) {\n      invariant(BlobManager.isAvailable, 'Native module BlobModule is required for blob support');\n      BlobManager.sendOverSocket(data, this._socketId);\n      return;\n    }\n    if (typeof data === 'string') {\n      NativeWebSocketModule.send(data, this._socketId);\n      return;\n    }\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n      NativeWebSocketModule.sendBinary(binaryToBase64(data), this._socketId);\n      return;\n    }\n    throw new Error('Unsupported data type');\n  }\n  ping() {\n    if (this.readyState === this.CONNECTING) {\n      throw new Error('INVALID_STATE_ERR');\n    }\n    NativeWebSocketModule.ping(this._socketId);\n  }\n  _close(code, reason) {\n    const statusCode = typeof code === 'number' ? code : CLOSE_NORMAL;\n    const closeReason = typeof reason === 'string' ? reason : '';\n    NativeWebSocketModule.close(statusCode, closeReason, this._socketId);\n    if (BlobManager.isAvailable && this._binaryType === 'blob') {\n      BlobManager.removeWebSocketHandler(this._socketId);\n    }\n  }\n  _unregisterEvents() {\n    this._subscriptions.forEach(e => e.remove());\n    this._subscriptions = [];\n  }\n  _registerEvents() {\n    this._subscriptions = [this._eventEmitter.addListener('websocketMessage', ev => {\n      if (ev.id !== this._socketId) {\n        return;\n      }\n      let data = ev.data;\n      switch (ev.type) {\n        case 'binary':\n          data = base64.toByteArray(ev.data).buffer;\n          break;\n        case 'blob':\n          data = BlobManager.createFromOptions(ev.data);\n          break;\n      }\n      this.dispatchEvent(new WebSocketEvent('message', {\n        data\n      }));\n    }), this._eventEmitter.addListener('websocketOpen', ev => {\n      if (ev.id !== this._socketId) {\n        return;\n      }\n      this.readyState = this.OPEN;\n      this.protocol = ev.protocol;\n      this.dispatchEvent(new WebSocketEvent('open'));\n    }), this._eventEmitter.addListener('websocketClosed', ev => {\n      if (ev.id !== this._socketId) {\n        return;\n      }\n      this.readyState = this.CLOSED;\n      this.dispatchEvent(new WebSocketEvent('close', {\n        code: ev.code,\n        reason: ev.reason\n      }));\n      this._unregisterEvents();\n      this.close();\n    }), this._eventEmitter.addListener('websocketFailed', ev => {\n      if (ev.id !== this._socketId) {\n        return;\n      }\n      this.readyState = this.CLOSED;\n      this.dispatchEvent(new WebSocketEvent('error', {\n        message: ev.message\n      }));\n      this.dispatchEvent(new WebSocketEvent('close', {\n        code: CLOSE_ABNORMAL,\n        reason: ev.message\n      }));\n      this._unregisterEvents();\n      this.close();\n    })];\n  }\n}\nWebSocket.CONNECTING = CONNECTING;\nWebSocket.OPEN = OPEN;\nWebSocket.CLOSING = CLOSING;\nWebSocket.CLOSED = CLOSED;\nmodule.exports = WebSocket;","map":{"version":3,"names":["Blob","BlobManager","NativeEventEmitter","binaryToBase64","Platform","NativeWebSocketModule","WebSocketEvent","base64","EventTarget","invariant","CONNECTING","OPEN","CLOSING","CLOSED","CLOSE_NORMAL","CLOSE_ABNORMAL","WEBSOCKET_EVENTS","nextWebSocketId","WebSocket","constructor","url","protocols","options","_socketId","_eventEmitter","_subscriptions","_binaryType","onclose","onerror","onmessage","onopen","bufferedAmount","extension","protocol","readyState","_ref","headers","unrecognized","_objectWithoutPropertiesLoose","_excluded","origin","console","warn","Object","keys","length","join","Array","isArray","OS","_registerEvents","connect","binaryType","Error","isAvailable","addWebSocketHandler","removeWebSocketHandler","close","code","reason","_close","send","data","sendOverSocket","ArrayBuffer","isView","sendBinary","ping","statusCode","closeReason","_unregisterEvents","forEach","e","remove","addListener","ev","id","type","toByteArray","buffer","createFromOptions","dispatchEvent","message","module","exports"],"sources":["F:/MiniProject/node_modules/react-native/Libraries/WebSocket/WebSocket.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\nimport type {BlobData} from '../Blob/BlobTypes';\nimport type {EventSubscription} from '../vendor/emitter/EventEmitter';\n\nimport Blob from '../Blob/Blob';\nimport BlobManager from '../Blob/BlobManager';\nimport NativeEventEmitter from '../EventEmitter/NativeEventEmitter';\nimport binaryToBase64 from '../Utilities/binaryToBase64';\nimport Platform from '../Utilities/Platform';\nimport NativeWebSocketModule from './NativeWebSocketModule';\nimport WebSocketEvent from './WebSocketEvent';\nimport base64 from 'base64-js';\nimport EventTarget from 'event-target-shim';\nimport invariant from 'invariant';\n\ntype ArrayBufferView =\n  | Int8Array\n  | Uint8Array\n  | Uint8ClampedArray\n  | Int16Array\n  | Uint16Array\n  | Int32Array\n  | Uint32Array\n  | Float32Array\n  | Float64Array\n  | DataView;\n\ntype BinaryType = 'blob' | 'arraybuffer';\n\nconst CONNECTING = 0;\nconst OPEN = 1;\nconst CLOSING = 2;\nconst CLOSED = 3;\n\nconst CLOSE_NORMAL = 1000;\n\n// Abnormal closure where no code is provided in a control frame\n// https://www.rfc-editor.org/rfc/rfc6455.html#section-7.1.5\nconst CLOSE_ABNORMAL = 1006;\n\nconst WEBSOCKET_EVENTS = ['close', 'error', 'message', 'open'];\n\nlet nextWebSocketId = 0;\n\ntype WebSocketEventDefinitions = {\n  websocketOpen: [{id: number, protocol: string}],\n  websocketClosed: [{id: number, code: number, reason: string}],\n  websocketMessage: [\n    | {type: 'binary', id: number, data: string}\n    | {type: 'text', id: number, data: string}\n    | {type: 'blob', id: number, data: BlobData},\n  ],\n  websocketFailed: [{id: number, message: string}],\n};\n\n/**\n * Browser-compatible WebSockets implementation.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * See https://github.com/websockets/ws\n */\nclass WebSocket extends (EventTarget(...WEBSOCKET_EVENTS): typeof EventTarget) {\n  static CONNECTING: number = CONNECTING;\n  static OPEN: number = OPEN;\n  static CLOSING: number = CLOSING;\n  static CLOSED: number = CLOSED;\n\n  CONNECTING: number = CONNECTING;\n  OPEN: number = OPEN;\n  CLOSING: number = CLOSING;\n  CLOSED: number = CLOSED;\n\n  _socketId: number;\n  _eventEmitter: NativeEventEmitter<WebSocketEventDefinitions>;\n  _subscriptions: Array<EventSubscription>;\n  _binaryType: ?BinaryType;\n\n  onclose: ?Function;\n  onerror: ?Function;\n  onmessage: ?Function;\n  onopen: ?Function;\n\n  bufferedAmount: number;\n  extension: ?string;\n  protocol: ?string;\n  readyState: number = CONNECTING;\n  url: ?string;\n\n  constructor(\n    url: string,\n    protocols: ?string | ?Array<string>,\n    options: ?{headers?: {origin?: string, ...}, ...},\n  ) {\n    super();\n    this.url = url;\n    if (typeof protocols === 'string') {\n      protocols = [protocols];\n    }\n\n    const {headers = {}, ...unrecognized} = options || {};\n\n    // Preserve deprecated backwards compatibility for the 'origin' option\n    // $FlowFixMe[prop-missing]\n    if (unrecognized && typeof unrecognized.origin === 'string') {\n      console.warn(\n        'Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.',\n      );\n      /* $FlowFixMe[prop-missing] (>=0.54.0 site=react_native_fb,react_native_\n       * oss) This comment suppresses an error found when Flow v0.54 was\n       * deployed. To see the error delete this comment and run Flow. */\n      headers.origin = unrecognized.origin;\n      /* $FlowFixMe[prop-missing] (>=0.54.0 site=react_native_fb,react_native_\n       * oss) This comment suppresses an error found when Flow v0.54 was\n       * deployed. To see the error delete this comment and run Flow. */\n      delete unrecognized.origin;\n    }\n\n    // Warn about and discard anything else\n    if (Object.keys(unrecognized).length > 0) {\n      console.warn(\n        'Unrecognized WebSocket connection option(s) `' +\n          Object.keys(unrecognized).join('`, `') +\n          '`. ' +\n          'Did you mean to put these under `headers`?',\n      );\n    }\n\n    if (!Array.isArray(protocols)) {\n      protocols = null;\n    }\n\n    this._eventEmitter = new NativeEventEmitter(\n      // T88715063: NativeEventEmitter only used this parameter on iOS. Now it uses it on all platforms, so this code was modified automatically to preserve its behavior\n      // If you want to use the native module on other platforms, please remove this condition and test its behavior\n      Platform.OS !== 'ios' ? null : NativeWebSocketModule,\n    );\n    this._socketId = nextWebSocketId++;\n    this._registerEvents();\n    NativeWebSocketModule.connect(url, protocols, {headers}, this._socketId);\n  }\n\n  get binaryType(): ?BinaryType {\n    return this._binaryType;\n  }\n\n  set binaryType(binaryType: BinaryType): void {\n    if (binaryType !== 'blob' && binaryType !== 'arraybuffer') {\n      throw new Error(\"binaryType must be either 'blob' or 'arraybuffer'\");\n    }\n    if (this._binaryType === 'blob' || binaryType === 'blob') {\n      invariant(\n        BlobManager.isAvailable,\n        'Native module BlobModule is required for blob support',\n      );\n      if (binaryType === 'blob') {\n        BlobManager.addWebSocketHandler(this._socketId);\n      } else {\n        BlobManager.removeWebSocketHandler(this._socketId);\n      }\n    }\n    this._binaryType = binaryType;\n  }\n\n  close(code?: number, reason?: string): void {\n    if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {\n      return;\n    }\n\n    this.readyState = this.CLOSING;\n    this._close(code, reason);\n  }\n\n  send(data: string | ArrayBuffer | ArrayBufferView | Blob): void {\n    if (this.readyState === this.CONNECTING) {\n      throw new Error('INVALID_STATE_ERR');\n    }\n\n    if (data instanceof Blob) {\n      invariant(\n        BlobManager.isAvailable,\n        'Native module BlobModule is required for blob support',\n      );\n      BlobManager.sendOverSocket(data, this._socketId);\n      return;\n    }\n\n    if (typeof data === 'string') {\n      NativeWebSocketModule.send(data, this._socketId);\n      return;\n    }\n\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n      NativeWebSocketModule.sendBinary(binaryToBase64(data), this._socketId);\n      return;\n    }\n\n    throw new Error('Unsupported data type');\n  }\n\n  ping(): void {\n    if (this.readyState === this.CONNECTING) {\n      throw new Error('INVALID_STATE_ERR');\n    }\n\n    NativeWebSocketModule.ping(this._socketId);\n  }\n\n  _close(code?: number, reason?: string): void {\n    // See https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n    const statusCode = typeof code === 'number' ? code : CLOSE_NORMAL;\n    const closeReason = typeof reason === 'string' ? reason : '';\n    NativeWebSocketModule.close(statusCode, closeReason, this._socketId);\n\n    if (BlobManager.isAvailable && this._binaryType === 'blob') {\n      BlobManager.removeWebSocketHandler(this._socketId);\n    }\n  }\n\n  _unregisterEvents(): void {\n    this._subscriptions.forEach(e => e.remove());\n    this._subscriptions = [];\n  }\n\n  _registerEvents(): void {\n    this._subscriptions = [\n      this._eventEmitter.addListener('websocketMessage', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        let data: Blob | BlobData | ArrayBuffer | string = ev.data;\n        switch (ev.type) {\n          case 'binary':\n            data = base64.toByteArray(ev.data).buffer;\n            break;\n          case 'blob':\n            data = BlobManager.createFromOptions(ev.data);\n            break;\n        }\n        this.dispatchEvent(new WebSocketEvent('message', {data}));\n      }),\n      this._eventEmitter.addListener('websocketOpen', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        this.readyState = this.OPEN;\n        this.protocol = ev.protocol;\n        this.dispatchEvent(new WebSocketEvent('open'));\n      }),\n      this._eventEmitter.addListener('websocketClosed', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        this.readyState = this.CLOSED;\n        this.dispatchEvent(\n          new WebSocketEvent('close', {\n            code: ev.code,\n            reason: ev.reason,\n            // TODO: missing `wasClean` (exposed on iOS as `clean` but missing on Android)\n          }),\n        );\n        this._unregisterEvents();\n        this.close();\n      }),\n      this._eventEmitter.addListener('websocketFailed', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        this.readyState = this.CLOSED;\n        this.dispatchEvent(\n          new WebSocketEvent('error', {\n            message: ev.message,\n          }),\n        );\n        this.dispatchEvent(\n          new WebSocketEvent('close', {\n            code: CLOSE_ABNORMAL,\n            reason: ev.message,\n            // TODO: Expose `wasClean`\n          }),\n        );\n        this._unregisterEvents();\n        this.close();\n      }),\n    ];\n  }\n}\n\nmodule.exports = WebSocket;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":true},"sourceType":"module","externalDependencies":[]}