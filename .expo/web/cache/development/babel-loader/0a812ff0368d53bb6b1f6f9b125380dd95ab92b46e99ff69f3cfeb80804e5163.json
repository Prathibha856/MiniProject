{"ast":null,"code":"var _jsxFileName = \"F:\\\\MiniProject\\\\node_modules\\\\@react-native\\\\virtualized-lists\\\\Lists\\\\VirtualizedListCellRenderer.js\";\nimport * as ReactNativeFeatureFlags from 'react-native/src/private/featureflags/ReactNativeFeatureFlags';\nimport { VirtualizedListCellContextProvider } from './VirtualizedListContext.js';\nimport invariant from 'invariant';\nimport * as React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CellRenderer extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: this.props.item\n      }\n    };\n    this._separators = {\n      highlight: () => {\n        const {\n          cellKey,\n          prevCellKey\n        } = this.props;\n        this.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: true\n        });\n      },\n      unhighlight: () => {\n        const {\n          cellKey,\n          prevCellKey\n        } = this.props;\n        this.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: false\n        });\n      },\n      updateProps: (select, newProps) => {\n        const {\n          cellKey,\n          prevCellKey\n        } = this.props;\n        this.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);\n      }\n    };\n    this._onLayout = nativeEvent => {\n      this.props.onCellLayout?.(nativeEvent, this.props.cellKey, this.props.index);\n    };\n    this._onCellFocusCapture = e => {\n      this.props.onCellFocusCapture?.(this.props.cellKey);\n    };\n  }\n  static getDerivedStateFromProps(props, prevState) {\n    if (ReactNativeFeatureFlags.enableOptimisedVirtualizedCells()) {\n      if (props.item !== prevState.separatorProps.leadingItem) {\n        return {\n          separatorProps: Object.assign({}, prevState.separatorProps, {\n            leadingItem: props.item\n          })\n        };\n      }\n      return null;\n    } else {\n      return {\n        separatorProps: Object.assign({}, prevState.separatorProps, {\n          leadingItem: props.item\n        })\n      };\n    }\n  }\n  updateSeparatorProps(newProps) {\n    this.setState(state => ({\n      separatorProps: Object.assign({}, state.separatorProps, newProps)\n    }));\n  }\n  componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  }\n  _renderElement(renderItem, ListItemComponent, item, index) {\n    if (renderItem && ListItemComponent) {\n      console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');\n    }\n    if (ListItemComponent) {\n      return _jsxDEV(ListItemComponent, {\n        item: item,\n        index: index,\n        separators: this._separators\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this);\n    }\n    if (renderItem) {\n      return renderItem({\n        item,\n        index,\n        separators: this._separators\n      });\n    }\n    invariant(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');\n  }\n  render() {\n    const {\n      CellRendererComponent,\n      ItemSeparatorComponent,\n      ListItemComponent,\n      cellKey,\n      horizontal,\n      item,\n      index,\n      inversionStyle,\n      onCellLayout,\n      renderItem\n    } = this.props;\n    const element = this._renderElement(renderItem, ListItemComponent, item, index);\n    const itemSeparator = React.isValidElement(ItemSeparatorComponent) ? ItemSeparatorComponent : ItemSeparatorComponent && _jsxDEV(ItemSeparatorComponent, Object.assign({}, this.state.separatorProps), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }, this);\n    const cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;\n    const result = !CellRendererComponent ? _jsxDEV(View, Object.assign({\n      style: cellStyle,\n      onFocusCapture: this._onCellFocusCapture\n    }, onCellLayout && {\n      onLayout: this._onLayout\n    }, {\n      children: [element, itemSeparator]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this) : _jsxDEV(CellRendererComponent, Object.assign({\n      cellKey: cellKey,\n      index: index,\n      item: item,\n      style: cellStyle,\n      onFocusCapture: this._onCellFocusCapture\n    }, onCellLayout && {\n      onLayout: this._onLayout\n    }, {\n      children: [element, itemSeparator]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this);\n    return _jsxDEV(VirtualizedListCellContextProvider, {\n      cellKey: this.props.cellKey,\n      children: result\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row'\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse'\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse'\n  }\n});","map":{"version":3,"names":["ReactNativeFeatureFlags","VirtualizedListCellContextProvider","invariant","React","StyleSheet","View","jsxDEV","_jsxDEV","CellRenderer","PureComponent","constructor","args","state","separatorProps","highlighted","leadingItem","props","item","_separators","highlight","cellKey","prevCellKey","onUpdateSeparators","unhighlight","updateProps","select","newProps","_onLayout","nativeEvent","onCellLayout","index","_onCellFocusCapture","e","onCellFocusCapture","getDerivedStateFromProps","prevState","enableOptimisedVirtualizedCells","Object","assign","updateSeparatorProps","setState","componentWillUnmount","onUnmount","_renderElement","renderItem","ListItemComponent","console","warn","separators","fileName","_jsxFileName","lineNumber","columnNumber","render","CellRendererComponent","ItemSeparatorComponent","horizontal","inversionStyle","element","itemSeparator","isValidElement","cellStyle","styles","rowReverse","columnReverse","row","result","style","onFocusCapture","onLayout","children","create","flexDirection"],"sources":["F:/MiniProject/node_modules/@react-native/virtualized-lists/Lists/VirtualizedListCellRenderer.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\nimport * as ReactNativeFeatureFlags from 'react-native/src/private/featureflags/ReactNativeFeatureFlags';\nimport type {CellRendererProps, RenderItemType} from './VirtualizedListProps';\nimport type {ViewStyleProp} from 'react-native/Libraries/StyleSheet/StyleSheet';\nimport type {\n  FocusEvent,\n  LayoutEvent,\n} from 'react-native/Libraries/Types/CoreEventTypes';\n\nimport {VirtualizedListCellContextProvider} from './VirtualizedListContext.js';\nimport invariant from 'invariant';\nimport * as React from 'react';\nimport {StyleSheet, View} from 'react-native';\n\nexport type Props<ItemT> = {\n  CellRendererComponent?: ?React.ComponentType<CellRendererProps<ItemT>>,\n  ItemSeparatorComponent: ?React.ComponentType<\n    any | {highlighted: boolean, leadingItem: ?ItemT},\n  >,\n  ListItemComponent?: ?(React.ComponentType<any> | React.MixedElement),\n  cellKey: string,\n  horizontal: ?boolean,\n  index: number,\n  inversionStyle: ViewStyleProp,\n  item: ItemT,\n  onCellLayout?: (event: LayoutEvent, cellKey: string, index: number) => void,\n  onCellFocusCapture?: (cellKey: string) => void,\n  onUnmount: (cellKey: string) => void,\n  onUpdateSeparators: (\n    cellKeys: Array<?string>,\n    props: Partial<SeparatorProps<ItemT>>,\n  ) => void,\n  prevCellKey: ?string,\n  renderItem?: ?RenderItemType<ItemT>,\n  ...\n};\n\ntype SeparatorProps<ItemT> = $ReadOnly<{|\n  highlighted: boolean,\n  leadingItem: ?ItemT,\n|}>;\n\ntype State<ItemT> = {\n  separatorProps: SeparatorProps<ItemT>,\n  ...\n};\n\nexport default class CellRenderer<ItemT> extends React.PureComponent<\n  Props<ItemT>,\n  State<ItemT>,\n> {\n  state: State<ItemT> = {\n    separatorProps: {\n      highlighted: false,\n      leadingItem: this.props.item,\n    },\n  };\n\n  static getDerivedStateFromProps(\n    props: Props<ItemT>,\n    prevState: State<ItemT>,\n  ): ?State<ItemT> {\n    if (ReactNativeFeatureFlags.enableOptimisedVirtualizedCells()) {\n      if (props.item !== prevState.separatorProps.leadingItem) {\n        return {\n          separatorProps: {\n            ...prevState.separatorProps,\n            leadingItem: props.item,\n          },\n        };\n      }\n      return null;\n    } else {\n      return {\n        separatorProps: {\n          ...prevState.separatorProps,\n          leadingItem: props.item,\n        },\n      };\n    }\n  }\n\n  // TODO: consider factoring separator stuff out of VirtualizedList into FlatList since it's not\n  // reused by SectionList and we can keep VirtualizedList simpler.\n  // $FlowFixMe[missing-local-annot]\n  _separators = {\n    highlight: () => {\n      const {cellKey, prevCellKey} = this.props;\n      this.props.onUpdateSeparators([cellKey, prevCellKey], {\n        highlighted: true,\n      });\n    },\n    unhighlight: () => {\n      const {cellKey, prevCellKey} = this.props;\n      this.props.onUpdateSeparators([cellKey, prevCellKey], {\n        highlighted: false,\n      });\n    },\n    updateProps: (\n      select: 'leading' | 'trailing',\n      newProps: SeparatorProps<ItemT>,\n    ) => {\n      const {cellKey, prevCellKey} = this.props;\n      this.props.onUpdateSeparators(\n        [select === 'leading' ? prevCellKey : cellKey],\n        newProps,\n      );\n    },\n  };\n\n  updateSeparatorProps(newProps: SeparatorProps<ItemT>) {\n    this.setState(state => ({\n      separatorProps: {...state.separatorProps, ...newProps},\n    }));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  }\n\n  _onLayout = (nativeEvent: LayoutEvent): void => {\n    this.props.onCellLayout?.(\n      nativeEvent,\n      this.props.cellKey,\n      this.props.index,\n    );\n  };\n\n  _onCellFocusCapture = (e: FocusEvent): void => {\n    this.props.onCellFocusCapture?.(this.props.cellKey);\n  };\n\n  _renderElement(\n    renderItem: ?RenderItemType<ItemT>,\n    ListItemComponent: any,\n    item: ItemT,\n    index: number,\n  ): React.Node {\n    if (renderItem && ListItemComponent) {\n      console.warn(\n        'VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' +\n          ' precedence over renderItem.',\n      );\n    }\n\n    if (ListItemComponent) {\n      return (\n        <ListItemComponent\n          item={item}\n          index={index}\n          separators={this._separators}\n        />\n      );\n    }\n\n    if (renderItem) {\n      return renderItem({\n        item,\n        index,\n        separators: this._separators,\n      });\n    }\n\n    invariant(\n      false,\n      'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.',\n    );\n  }\n\n  render(): React.Node {\n    const {\n      CellRendererComponent,\n      ItemSeparatorComponent,\n      ListItemComponent,\n      cellKey,\n      horizontal,\n      item,\n      index,\n      inversionStyle,\n      onCellLayout,\n      renderItem,\n    } = this.props;\n    const element = this._renderElement(\n      renderItem,\n      ListItemComponent,\n      item,\n      index,\n    );\n\n    // NOTE: that when this is a sticky header, `onLayout` will get automatically extracted and\n    // called explicitly by `ScrollViewStickyHeader`.\n    const itemSeparator: React.Node = React.isValidElement(\n      ItemSeparatorComponent,\n    )\n      ? // $FlowFixMe[incompatible-type]\n        ItemSeparatorComponent\n      : // $FlowFixMe[incompatible-type]\n        ItemSeparatorComponent && (\n          <ItemSeparatorComponent {...this.state.separatorProps} />\n        );\n    const cellStyle = inversionStyle\n      ? horizontal\n        ? [styles.rowReverse, inversionStyle]\n        : [styles.columnReverse, inversionStyle]\n      : horizontal\n        ? [styles.row, inversionStyle]\n        : inversionStyle;\n    const result = !CellRendererComponent ? (\n      <View\n        style={cellStyle}\n        onFocusCapture={this._onCellFocusCapture}\n        {...(onCellLayout && {onLayout: this._onLayout})}>\n        {element}\n        {itemSeparator}\n      </View>\n    ) : (\n      <CellRendererComponent\n        cellKey={cellKey}\n        index={index}\n        item={item}\n        style={cellStyle}\n        onFocusCapture={this._onCellFocusCapture}\n        {...(onCellLayout && {onLayout: this._onLayout})}>\n        {element}\n        {itemSeparator}\n      </CellRendererComponent>\n    );\n\n    return (\n      <VirtualizedListCellContextProvider cellKey={this.props.cellKey}>\n        {result}\n      </VirtualizedListCellContextProvider>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row',\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse',\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse',\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}