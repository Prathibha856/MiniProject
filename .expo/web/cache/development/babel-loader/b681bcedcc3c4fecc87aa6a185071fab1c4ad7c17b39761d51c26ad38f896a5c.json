{"ast":null,"code":"import NativeFileReaderModule from './NativeFileReaderModule';\nimport { toByteArray } from 'base64-js';\nimport EventTarget from 'event-target-shim';\nconst READER_EVENTS = ['abort', 'error', 'load', 'loadstart', 'loadend', 'progress'];\nconst EMPTY = 0;\nconst LOADING = 1;\nconst DONE = 2;\nclass FileReader extends EventTarget(...READER_EVENTS) {\n  constructor() {\n    super();\n    this.EMPTY = EMPTY;\n    this.LOADING = LOADING;\n    this.DONE = DONE;\n    this._readyState = void 0;\n    this._error = void 0;\n    this._result = void 0;\n    this._aborted = false;\n    this._reset();\n  }\n  _reset() {\n    this._readyState = EMPTY;\n    this._error = null;\n    this._result = null;\n  }\n  _setReadyState(newState) {\n    this._readyState = newState;\n    this.dispatchEvent({\n      type: 'readystatechange'\n    });\n    if (newState === DONE) {\n      if (this._aborted) {\n        this.dispatchEvent({\n          type: 'abort'\n        });\n      } else if (this._error) {\n        this.dispatchEvent({\n          type: 'error'\n        });\n      } else {\n        this.dispatchEvent({\n          type: 'load'\n        });\n      }\n      this.dispatchEvent({\n        type: 'loadend'\n      });\n    }\n  }\n  readAsArrayBuffer(blob) {\n    this._aborted = false;\n    if (blob == null) {\n      throw new TypeError(\"Failed to execute 'readAsArrayBuffer' on 'FileReader': parameter 1 is not of type 'Blob'\");\n    }\n    NativeFileReaderModule.readAsDataURL(blob.data).then(text => {\n      if (this._aborted) {\n        return;\n      }\n      const base64 = text.split(',')[1];\n      const typedArray = toByteArray(base64);\n      this._result = typedArray.buffer;\n      this._setReadyState(DONE);\n    }, error => {\n      if (this._aborted) {\n        return;\n      }\n      this._error = error;\n      this._setReadyState(DONE);\n    });\n  }\n  readAsDataURL(blob) {\n    this._aborted = false;\n    if (blob == null) {\n      throw new TypeError(\"Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'\");\n    }\n    NativeFileReaderModule.readAsDataURL(blob.data).then(text => {\n      if (this._aborted) {\n        return;\n      }\n      this._result = text;\n      this._setReadyState(DONE);\n    }, error => {\n      if (this._aborted) {\n        return;\n      }\n      this._error = error;\n      this._setReadyState(DONE);\n    });\n  }\n  readAsText(blob, encoding = 'UTF-8') {\n    this._aborted = false;\n    if (blob == null) {\n      throw new TypeError(\"Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'\");\n    }\n    NativeFileReaderModule.readAsText(blob.data, encoding).then(text => {\n      if (this._aborted) {\n        return;\n      }\n      this._result = text;\n      this._setReadyState(DONE);\n    }, error => {\n      if (this._aborted) {\n        return;\n      }\n      this._error = error;\n      this._setReadyState(DONE);\n    });\n  }\n  abort() {\n    this._aborted = true;\n    if (this._readyState !== EMPTY && this._readyState !== DONE) {\n      this._reset();\n      this._setReadyState(DONE);\n    }\n    this._reset();\n  }\n  get readyState() {\n    return this._readyState;\n  }\n  get error() {\n    return this._error;\n  }\n  get result() {\n    return this._result;\n  }\n}\nFileReader.EMPTY = EMPTY;\nFileReader.LOADING = LOADING;\nFileReader.DONE = DONE;\nmodule.exports = FileReader;","map":{"version":3,"names":["NativeFileReaderModule","toByteArray","EventTarget","READER_EVENTS","EMPTY","LOADING","DONE","FileReader","constructor","_readyState","_error","_result","_aborted","_reset","_setReadyState","newState","dispatchEvent","type","readAsArrayBuffer","blob","TypeError","readAsDataURL","data","then","text","base64","split","typedArray","buffer","error","readAsText","encoding","abort","readyState","result","module","exports"],"sources":["F:/MiniProject/node_modules/react-native/Libraries/Blob/FileReader.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\nimport type Blob from './Blob';\n\nimport NativeFileReaderModule from './NativeFileReaderModule';\nimport {toByteArray} from 'base64-js';\nimport EventTarget from 'event-target-shim';\n\ntype ReadyState =\n  | 0 // EMPTY\n  | 1 // LOADING\n  | 2; // DONE\n\ntype ReaderResult = string | ArrayBuffer;\n\nconst READER_EVENTS = [\n  'abort',\n  'error',\n  'load',\n  'loadstart',\n  'loadend',\n  'progress',\n];\n\nconst EMPTY = 0;\nconst LOADING = 1;\nconst DONE = 2;\n\nclass FileReader extends (EventTarget(...READER_EVENTS): typeof EventTarget) {\n  static EMPTY: number = EMPTY;\n  static LOADING: number = LOADING;\n  static DONE: number = DONE;\n\n  EMPTY: number = EMPTY;\n  LOADING: number = LOADING;\n  DONE: number = DONE;\n\n  _readyState: ReadyState;\n  _error: ?Error;\n  _result: ?ReaderResult;\n  _aborted: boolean = false;\n\n  constructor() {\n    super();\n    this._reset();\n  }\n\n  _reset(): void {\n    this._readyState = EMPTY;\n    this._error = null;\n    this._result = null;\n  }\n\n  _setReadyState(newState: ReadyState) {\n    this._readyState = newState;\n    this.dispatchEvent({type: 'readystatechange'});\n    if (newState === DONE) {\n      if (this._aborted) {\n        this.dispatchEvent({type: 'abort'});\n      } else if (this._error) {\n        this.dispatchEvent({type: 'error'});\n      } else {\n        this.dispatchEvent({type: 'load'});\n      }\n      this.dispatchEvent({type: 'loadend'});\n    }\n  }\n\n  readAsArrayBuffer(blob: ?Blob): void {\n    this._aborted = false;\n\n    if (blob == null) {\n      throw new TypeError(\n        \"Failed to execute 'readAsArrayBuffer' on 'FileReader': parameter 1 is not of type 'Blob'\",\n      );\n    }\n\n    NativeFileReaderModule.readAsDataURL(blob.data).then(\n      (text: string) => {\n        if (this._aborted) {\n          return;\n        }\n\n        const base64 = text.split(',')[1];\n        const typedArray = toByteArray(base64);\n\n        this._result = typedArray.buffer;\n        this._setReadyState(DONE);\n      },\n      error => {\n        if (this._aborted) {\n          return;\n        }\n        this._error = error;\n        this._setReadyState(DONE);\n      },\n    );\n  }\n\n  readAsDataURL(blob: ?Blob): void {\n    this._aborted = false;\n\n    if (blob == null) {\n      throw new TypeError(\n        \"Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'\",\n      );\n    }\n\n    NativeFileReaderModule.readAsDataURL(blob.data).then(\n      (text: string) => {\n        if (this._aborted) {\n          return;\n        }\n        this._result = text;\n        this._setReadyState(DONE);\n      },\n      error => {\n        if (this._aborted) {\n          return;\n        }\n        this._error = error;\n        this._setReadyState(DONE);\n      },\n    );\n  }\n\n  readAsText(blob: ?Blob, encoding: string = 'UTF-8'): void {\n    this._aborted = false;\n\n    if (blob == null) {\n      throw new TypeError(\n        \"Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'\",\n      );\n    }\n\n    NativeFileReaderModule.readAsText(blob.data, encoding).then(\n      (text: string) => {\n        if (this._aborted) {\n          return;\n        }\n        this._result = text;\n        this._setReadyState(DONE);\n      },\n      error => {\n        if (this._aborted) {\n          return;\n        }\n        this._error = error;\n        this._setReadyState(DONE);\n      },\n    );\n  }\n\n  abort() {\n    this._aborted = true;\n    // only call onreadystatechange if there is something to abort, as per spec\n    if (this._readyState !== EMPTY && this._readyState !== DONE) {\n      this._reset();\n      this._setReadyState(DONE);\n    }\n    // Reset again after, in case modified in handler\n    this._reset();\n  }\n\n  get readyState(): ReadyState {\n    return this._readyState;\n  }\n\n  get error(): ?Error {\n    return this._error;\n  }\n\n  get result(): ?ReaderResult {\n    return this._result;\n  }\n}\n\nmodule.exports = FileReader;\n"],"mappings":"AAYA,OAAOA,sBAAsB,MAAM,0BAA0B;AAC7D,SAAQC,WAAW,QAAO,WAAW;AACrC,OAAOC,WAAW,MAAM,mBAAmB;AAS3C,MAAMC,aAAa,GAAG,CACpB,OAAO,EACP,OAAO,EACP,MAAM,EACN,WAAW,EACX,SAAS,EACT,UAAU,CACX;AAED,MAAMC,KAAK,GAAG,CAAC;AACf,MAAMC,OAAO,GAAG,CAAC;AACjB,MAAMC,IAAI,GAAG,CAAC;AAEd,MAAMC,UAAU,SAAUL,WAAW,CAAC,GAAGC,aAAa,CAAC,CAAsB;EAc3EK,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IAAC,KAVVJ,KAAK,GAAWA,KAAK;IAAA,KACrBC,OAAO,GAAWA,OAAO;IAAA,KACzBC,IAAI,GAAWA,IAAI;IAAA,KAEnBG,WAAW;IAAA,KACXC,MAAM;IAAA,KACNC,OAAO;IAAA,KACPC,QAAQ,GAAY,KAAK;IAIvB,IAAI,CAACC,MAAM,CAAC,CAAC;EACf;EAEAA,MAAMA,CAAA,EAAS;IACb,IAAI,CAACJ,WAAW,GAAGL,KAAK;IACxB,IAAI,CAACM,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,OAAO,GAAG,IAAI;EACrB;EAEAG,cAAcA,CAACC,QAAoB,EAAE;IACnC,IAAI,CAACN,WAAW,GAAGM,QAAQ;IAC3B,IAAI,CAACC,aAAa,CAAC;MAACC,IAAI,EAAE;IAAkB,CAAC,CAAC;IAC9C,IAAIF,QAAQ,KAAKT,IAAI,EAAE;MACrB,IAAI,IAAI,CAACM,QAAQ,EAAE;QACjB,IAAI,CAACI,aAAa,CAAC;UAACC,IAAI,EAAE;QAAO,CAAC,CAAC;MACrC,CAAC,MAAM,IAAI,IAAI,CAACP,MAAM,EAAE;QACtB,IAAI,CAACM,aAAa,CAAC;UAACC,IAAI,EAAE;QAAO,CAAC,CAAC;MACrC,CAAC,MAAM;QACL,IAAI,CAACD,aAAa,CAAC;UAACC,IAAI,EAAE;QAAM,CAAC,CAAC;MACpC;MACA,IAAI,CAACD,aAAa,CAAC;QAACC,IAAI,EAAE;MAAS,CAAC,CAAC;IACvC;EACF;EAEAC,iBAAiBA,CAACC,IAAW,EAAQ;IACnC,IAAI,CAACP,QAAQ,GAAG,KAAK;IAErB,IAAIO,IAAI,IAAI,IAAI,EAAE;MAChB,MAAM,IAAIC,SAAS,CACjB,0FACF,CAAC;IACH;IAEApB,sBAAsB,CAACqB,aAAa,CAACF,IAAI,CAACG,IAAI,CAAC,CAACC,IAAI,CACjDC,IAAY,IAAK;MAChB,IAAI,IAAI,CAACZ,QAAQ,EAAE;QACjB;MACF;MAEA,MAAMa,MAAM,GAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACjC,MAAMC,UAAU,GAAG1B,WAAW,CAACwB,MAAM,CAAC;MAEtC,IAAI,CAACd,OAAO,GAAGgB,UAAU,CAACC,MAAM;MAChC,IAAI,CAACd,cAAc,CAACR,IAAI,CAAC;IAC3B,CAAC,EACDuB,KAAK,IAAI;MACP,IAAI,IAAI,CAACjB,QAAQ,EAAE;QACjB;MACF;MACA,IAAI,CAACF,MAAM,GAAGmB,KAAK;MACnB,IAAI,CAACf,cAAc,CAACR,IAAI,CAAC;IAC3B,CACF,CAAC;EACH;EAEAe,aAAaA,CAACF,IAAW,EAAQ;IAC/B,IAAI,CAACP,QAAQ,GAAG,KAAK;IAErB,IAAIO,IAAI,IAAI,IAAI,EAAE;MAChB,MAAM,IAAIC,SAAS,CACjB,sFACF,CAAC;IACH;IAEApB,sBAAsB,CAACqB,aAAa,CAACF,IAAI,CAACG,IAAI,CAAC,CAACC,IAAI,CACjDC,IAAY,IAAK;MAChB,IAAI,IAAI,CAACZ,QAAQ,EAAE;QACjB;MACF;MACA,IAAI,CAACD,OAAO,GAAGa,IAAI;MACnB,IAAI,CAACV,cAAc,CAACR,IAAI,CAAC;IAC3B,CAAC,EACDuB,KAAK,IAAI;MACP,IAAI,IAAI,CAACjB,QAAQ,EAAE;QACjB;MACF;MACA,IAAI,CAACF,MAAM,GAAGmB,KAAK;MACnB,IAAI,CAACf,cAAc,CAACR,IAAI,CAAC;IAC3B,CACF,CAAC;EACH;EAEAwB,UAAUA,CAACX,IAAW,EAAEY,QAAgB,GAAG,OAAO,EAAQ;IACxD,IAAI,CAACnB,QAAQ,GAAG,KAAK;IAErB,IAAIO,IAAI,IAAI,IAAI,EAAE;MAChB,MAAM,IAAIC,SAAS,CACjB,mFACF,CAAC;IACH;IAEApB,sBAAsB,CAAC8B,UAAU,CAACX,IAAI,CAACG,IAAI,EAAES,QAAQ,CAAC,CAACR,IAAI,CACxDC,IAAY,IAAK;MAChB,IAAI,IAAI,CAACZ,QAAQ,EAAE;QACjB;MACF;MACA,IAAI,CAACD,OAAO,GAAGa,IAAI;MACnB,IAAI,CAACV,cAAc,CAACR,IAAI,CAAC;IAC3B,CAAC,EACDuB,KAAK,IAAI;MACP,IAAI,IAAI,CAACjB,QAAQ,EAAE;QACjB;MACF;MACA,IAAI,CAACF,MAAM,GAAGmB,KAAK;MACnB,IAAI,CAACf,cAAc,CAACR,IAAI,CAAC;IAC3B,CACF,CAAC;EACH;EAEA0B,KAAKA,CAAA,EAAG;IACN,IAAI,CAACpB,QAAQ,GAAG,IAAI;IAEpB,IAAI,IAAI,CAACH,WAAW,KAAKL,KAAK,IAAI,IAAI,CAACK,WAAW,KAAKH,IAAI,EAAE;MAC3D,IAAI,CAACO,MAAM,CAAC,CAAC;MACb,IAAI,CAACC,cAAc,CAACR,IAAI,CAAC;IAC3B;IAEA,IAAI,CAACO,MAAM,CAAC,CAAC;EACf;EAEA,IAAIoB,UAAUA,CAAA,EAAe;IAC3B,OAAO,IAAI,CAACxB,WAAW;EACzB;EAEA,IAAIoB,KAAKA,CAAA,EAAW;IAClB,OAAO,IAAI,CAACnB,MAAM;EACpB;EAEA,IAAIwB,MAAMA,CAAA,EAAkB;IAC1B,OAAO,IAAI,CAACvB,OAAO;EACrB;AACF;AAnJMJ,UAAU,CACPH,KAAK,GAAWA,KAAK;AADxBG,UAAU,CAEPF,OAAO,GAAWA,OAAO;AAF5BE,UAAU,CAGPD,IAAI,GAAWA,IAAI;AAkJ5B6B,MAAM,CAACC,OAAO,GAAG7B,UAAU","ignoreList":[]},"metadata":{"hasCjsExports":true},"sourceType":"module","externalDependencies":[]}